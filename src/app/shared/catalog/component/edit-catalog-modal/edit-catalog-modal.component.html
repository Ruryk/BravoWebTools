<div class="modal-window">
  <div class="dialog-header">
    <h1 mat-dialog-title class="dialog-title">Edit Product
    </h1>
    <button class="dialog-close-modal-btn" [mat-dialog-close]="true"><img src="/assets/img/close.png" alt="close">
    </button>
  </div>
  <div class="dialog-content">
    <form class="example-form" [formGroup]="editCatalogGroup">
      <div class="dialog-item">
        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">
          <mat-label>Product Code</mat-label>
          <input formControlName="code" matInput placeholder="APP123">
        </mat-form-field>
      </div>
      <div class="dialog-item">
        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">
          <mat-label>Name</mat-label>
          <input formControlName="name" matInput placeholder="Apple">
        </mat-form-field>
      </div>
<!--      <div class="dialog-item multiple">-->
<!--        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">-->
<!--          <mat-label>Unit</mat-label>-->
<!--          <input matInput placeholder="kg">-->
<!--        </mat-form-field>-->
<!--        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">-->
<!--          <mat-label>Price</mat-label>-->
<!--          <input matInput placeholder="2.03">-->
<!--        </mat-form-field>-->
<!--      </div>-->
<!--      <div class="dialog-item multiple-new-item">-->
<!--        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">-->
<!--          <mat-label>Unit - 2</mat-label>-->
<!--          <input matInput placeholder="box">-->
<!--        </mat-form-field>-->
<!--        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">-->
<!--          <mat-label>Price</mat-label>-->
<!--          <input matInput placeholder="10.90">-->
<!--          <button class="delete-unit"></button>-->
<!--        </mat-form-field>-->
<!--      </div>-->
<!--      <div class="dialog-item">-->
<!--        <button class="dialog-add-unit-btn">Add Unit</button>-->
<!--      </div>-->
      <ng-container formArrayName="units">
        <ng-container *ngFor="let key of getArrayUnitsControls().controls; index as i">
          <div class="dialog-item multiple-new-item" [formGroupName]="i">
            <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">
              <mat-label>Unit{{ (i > 0) ? ' - ' + (i + 1) : '' }}</mat-label>
              <input formControlName="unit" matInput placeholder="box">
            </mat-form-field>
            <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">
              <mat-label>Price</mat-label>
              <input formControlName="price" matInput placeholder="10.30">
              <button *ngIf="i>0" class="delete-unit" (click)="deleteUnit(i)"></button>
            </mat-form-field>
          </div>
        </ng-container>
      </ng-container>
      <div *ngIf="editCatalogGroup.controls['units'].value.length==3" class="dialog-item">
        <p class="text-center">Max number of Units - 3</p>
      </div>
      <div *ngIf="editCatalogGroup.controls['units'].value.length<3" class="dialog-item">
        <button class="dialog-add-unit-btn" (click)="addUnit()">Add Unit</button>
      </div>
      <div class="dialog-item">
        <mat-form-field class="example-full-width  mat-focused mat-form-field-should-float" floatLabel="always">
          <mat-label>Availability</mat-label>
          <mat-select formControlName="availability">
            <ng-container *ngFor="let item of availability; index as i">
              <mat-option *ngIf="i!==0" [value]="item.value">
                {{item.viewValue}}
              </mat-option>
              <mat-option *ngIf="i===0" [value]="item.value" aria-selected="true">
                {{item.viewValue}}
              </mat-option>
            </ng-container>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="dialog-item">
        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">
          <mat-label>Exclusively for (Customer Numbers)</mat-label>
          <input formControlName="exclusively" matInput placeholder="Exclusively for (Customer Numbers)">
        </mat-form-field>
      </div>
      <div class="dialog-item">
        <mat-form-field class="example-full-width mat-focused mat-form-field-should-float" floatLabel="always">
          <mat-label>Replacement Products (SKUs)</mat-label>
          <input formControlName="replacementProducts" matInput placeholder="Replacement Products (SKUs)">
        </mat-form-field>
      </div>
      <div class="dialog-item control">
        <button mat-flat-button color="warn" class="dialog-cancel-btn" [mat-dialog-close]="true">Cancel</button>
        <button mat-flat-button color="primary" class="dialog-add-btn"
                (click)="editCatalog()"[mat-dialog-close]="true">Add Product</button>
      </div>
    </form>
  </div>
</div>

